(this.webpackJsonpkyupidd=this.webpackJsonpkyupidd||[]).push([[7],{103:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return b}));var a=r(62),i=r.n(a),n=r(63),c=r(27),s=r(59),l=r(0),o=r(61),j=r(64),u=r.n(j),d=r(2);function b(){var e=Object(l.useState)(!0),t=Object(s.a)(e,2),r=t[0],a=t[1],j=Object(l.useState)({}),b=Object(s.a)(j,2),p=b[0],h=b[1],O=Object(l.useState)({}),x=Object(s.a)(O,2),f=x[0],m=x[1];Object(l.useEffect)((function(){document.title="Pro User Revenue";var e=function(e,t){var r,i,n,s,l,o=Number.MIN_SAFE_INTEGER,j=Number.MAX_SAFE_INTEGER;null===e||void 0===e||null===(r=e.features)||void 0===r||r.forEach((function(e){l=0,null===t||void 0===t||t.forEach((function(t){t.is_pro_user&&t.area_id===(null===e||void 0===e?void 0:e.properties.area_id)&&l++}));var r=!1;for(i=0;i<t.length&&(t[i].is_pro_user&&t[i].area_id===(null===e||void 0===e?void 0:e.properties.area_id)&&(l++,r=!0),!r||!t[i].is_pro_user||t[i].area_id===(null===e||void 0===e?void 0:e.properties.area_id));i++);l>o&&(o=l,n=e.properties.name),l<j&&(j=l,s=e.properties.name),e.properties.proCount=l}));var u={};u.minVal=j,u.maxVal=o,u.minArea=s,u.maxArea=n,h(Object(c.a)(Object(c.a)({},p),u)),m(f),a(!1)};function t(){return(t=Object(n.a)(i.a.mark((function t(){var r,a,n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([u.a.get("https://kyupid-api.vercel.app/api/areas"),u.a.get("https://kyupid-api.vercel.app/api/users")]);case 2:c=t.sent,e(null===(r=c[0])||void 0===r?void 0:r.data,null===(a=c[1])||void 0===a||null===(n=a.data)||void 0===n?void 0:n.users);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);return Object(d.jsx)(o.a,{featureData:f,loading:r,stats:p,param:"proCount",description:"This map shows number of pro users per area"})}},60:function(e,t,r){"use strict";var a=r(2);t.a=function(){return Object(a.jsx)("div",{className:"loader"})}},61:function(e,t,r){"use strict";var a=r(59),i=r(0),n=r(100),c=r(109),s=r(101),l=r(102),o=r(60),j=r(66),u=r.n(j),d=function(e,t,r){return u.a.scale(["red","orange","yellow","green"]).domain([t,r])(e).hex()},b=(r(67),r(2));t.a=function(e){var t=e.featureData,r=e.loading,j=e.stats,u=e.param,p=e.description,h=Object(i.useState)(""),O=Object(a.a)(h,2),x=O[0],f=O[1],m=Object(i.useState)(""),v=Object(a.a)(m,2),g=v[0],y=v[1],_=function(){return Object(b.jsx)("div",{className:"leaflet-bottom leaflet-right",children:Object(b.jsxs)("div",{className:"legend leaflet-control leaflet-bar",children:[Object(b.jsx)("h6",{children:Object(b.jsx)("b",{children:"Legend"})}),[1,2,3,4,5,6,7,8,9,10].map((function(e){return 1===e?Object(b.jsxs)("div",{children:[Object(b.jsx)("i",{style:{background:"".concat(d(e,1,10))}}),j.minVal," (min)",Object(b.jsx)("br",{})]},e):10===e?Object(b.jsxs)("div",{children:[Object(b.jsx)("i",{style:{background:"".concat(d(e,1,10))}}),j.maxVal," (max)",Object(b.jsx)("br",{})]},e):Object(b.jsxs)("div",{children:[Object(b.jsx)("i",{style:{background:"".concat(d(e,1,10))}}),Object(b.jsx)("br",{})]},e)}))]})})},w=function(){return Object(b.jsx)("div",{className:"leaflet-top leaflet-right",children:Object(b.jsxs)("div",{className:"stats leaflet-control leaflet-bar",children:[Object(b.jsx)("br",{}),Object(b.jsx)("h6",{children:Object(b.jsx)("b",{children:"Maximum Value:"})}),Object(b.jsxs)("h6",{children:[j.maxArea," : ",j.maxVal]}),Object(b.jsx)("br",{}),Object(b.jsx)("h6",{children:Object(b.jsx)("b",{children:"Minimum Value:"})}),Object(b.jsxs)("h6",{children:[j.minArea," : ",j.minVal]})]})})},k=function(e){return{fillColor:d(e.properties[u],j.minVal,j.maxVal),weight:2,color:"white",fillOpacity:.7}},E={weight:5,fillOpacity:1};return Object(b.jsx)(b.Fragment,{children:r?Object(b.jsx)(o.a,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("b",{children:Object(b.jsx)("p",{children:p})}),Object(b.jsxs)(n.a,{center:[12.971599,77.594566],zoom:11,style:{height:"80vh",width:"80vw"},children:[Object(b.jsx)(c.a,{url:"http://{s}.www.toolserver.org/tiles/bw-mapnik/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),Object(b.jsx)(w,{}),Object(b.jsx)(_,{}),Object(b.jsx)(s.a,{style:k,data:t.features,onEachFeature:function(e,t){t.on({mouseover:function(t){t.target.setStyle(E),f(e.properties.name),y(e.properties[u])},mouseout:function(t){t.target.setStyle(k(e)),f(""),y("")}})},children:Object(b.jsx)(l.a,{sticky:!0,direction:"top",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h5",{children:x}),Object(b.jsx)("h6",{children:g})]})})},x)]})]})})}}}]);
//# sourceMappingURL=7.98905b3c.chunk.js.map