{"version":3,"sources":["Components/Loader.js","Components/utils.js","Components/Maps/MapComponent.js","Components/Maps/GenderSkew.js"],"names":["Loader","className","getColor","d","min","max","chroma","scale","domain","hex","MapComponent","featureData","loading","stats","param","description","useState","name","setName","value","setValue","Legend","map","grade","style","minVal","maxVal","Stats","maxArea","minArea","defaultStyle","feature","fillColor","properties","weight","color","fillOpacity","hoverStyle","MapContainer","center","zoom","height","width","TileLayer","url","attribution","GeoJSON","data","features","onEachFeature","layer","on","mouseover","e","target","setStyle","mouseout","Tooltip","sticky","direction","GenderSkew","setloading","setStats","setFeatureData","useEffect","document","title","findMFRatio","areaData","usersData","i","maxA","minA","maxV","Number","MIN_SAFE_INTEGER","minV","MAX_SAFE_INTEGER","forEach","area","areaFound","male","female","length","gender","area_id","ratio","toFixed","obj","a","Promise","all","axios","get","values","users","fetchData"],"mappings":"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","file":"static/js/5.d9efabf1.chunk.js","sourcesContent":["const Loader = () => {\r\n\treturn (\r\n\t\t<div className=\"loader\"></div>\r\n\t)\r\n}\r\n\r\nexport default Loader;","import chroma from \"chroma-js\";\r\n\r\nexport const getColor = (d, min,max) => {\r\n\tconst scale = chroma.scale([\"red\",\"orange\",\"yellow\",\"green\"]).domain([min, max]);\r\n\treturn scale(d).hex();\r\n}","import React,{useState} from \"react\";\nimport { MapContainer,TileLayer,GeoJSON,Tooltip} from \"react-leaflet\";\nimport Loader from \"../Loader.js\";\nimport {getColor} from \"../utils.js\"\n\nimport \"leaflet/dist/leaflet.css\";\n\nconst MapComponent = ({featureData,loading,stats,param,description}) => {\n\n\tconst center= [12.971599, 77.594566];\n\t\n\tconst [name,setName]= useState(\"\");\n\tconst [value,setValue]= useState(\"\");\n\t\n\tconst Legend = () => {\n\t\tconst grades = [1,2,3,4,5,6,7,8,9,10];\n\t\treturn (\n\t\t\t<div className=\"leaflet-bottom leaflet-right\">\n\t\t\t  <div className=\"legend leaflet-control leaflet-bar\">\n\t\t\t  <h6><b>Legend</b></h6>\n\t\t\t  {\n\t\t\t\t  grades.map(grade=>{ \n\t\t\t\t\t  if(grade===1){\n\t\t\t\t\t\t  return <div key={grade}><i  style={{\"background\":`${getColor(grade,1,10)}`}}></i>{stats.minVal} (min)<br/></div>\n\t\t\t\t\t  }\n\t\t\t\t\t  else if(grade===10){\n\t\t\t\t\t\t  return <div key={grade}><i  style={{\"background\":`${getColor(grade,1,10)}`}}></i>{stats.maxVal} (max)<br/></div>\n\t\t\t\t\t  }\n\t\t\t\t\t  else{\n\t\t\t\t\t\t  return <div key={grade}><i  style={{\"background\":`${getColor(grade,1,10)}`}}></i><br/></div>\n\t\t\t\t\t  }\n\t\t\t\t  })\n\t\t\t  }\n\t\t\t  </div>\n\t\t\t</div>\n\t\t)\n\t}\n\t\n\tconst Stats = () => {\n\t\treturn (\n\t\t\t<div className=\"leaflet-top leaflet-right\">\n\t\t\t  <div className=\"stats leaflet-control leaflet-bar\">\n\t\t\t\t<br/>\n\t\t\t\t<h6><b>Maximum Value:</b></h6>\n\t\t\t\t<h6>{stats.maxArea} : {stats.maxVal}</h6>\n\t\t\t\t<br/>\n\t\t\t\t<h6><b>Minimum Value:</b></h6>\n\t\t\t\t<h6>{stats.minArea} : {stats.minVal}</h6>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t)\n\t}\n\t\n\tconst defaultStyle=(feature)=>{\n\t\treturn {\n\t\t\tfillColor: getColor(feature.properties[param],stats.minVal,stats.maxVal),\n\t\t\tweight: 2,\n\t\t\tcolor: 'white',\n\t\t\tfillOpacity: 0.7\n\t\t}\n\t}\n\t\n\tconst hoverStyle ={\n\t\tweight: 5,\n\t\tfillOpacity: 1\n\t}\n\t\n\tconst onEachFeature = (feature,layer) => {\n        layer.on({\n            mouseover: (e) => {\n\t\t\t\te.target.setStyle(hoverStyle);\n\t\t\t\tsetName(feature.properties.name);\n\t\t\t\tsetValue(feature.properties[param]);\n\t\t\t},\n\t\t\tmouseout: (e) => {\n\t\t\t\te.target.setStyle(defaultStyle(feature));\n\t\t\t\tsetName(\"\");\n\t\t\t\tsetValue(\"\");\n\t\t\t}\n        });\n    };\n\n\treturn (\n\t\t<>\n\t\t{\n\t\t\tloading \n\t\t\t?\n\t\t\t<Loader />\n\t\t\t:\n\t\t\t<>\n\t\t\t<b><p>{description}</p></b>\n\t\t\t<MapContainer center={center} zoom={11} style={{height:\"80vh\",width:\"80vw\"}}>\n\t\t\t\t<TileLayer\n\t\t\t\t\turl=\"http://{s}.www.toolserver.org/tiles/bw-mapnik/{z}/{x}/{y}.png\"\n\t\t\t\t\tattribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n\t\t\t\t/>\n\t\t\t\t\n\t\t\t\t<Stats />\n\t\t\t\t\n\t\t\t\t<Legend />\n\t\t\t\t\n\t\t\t\t<GeoJSON \n\t\t\t\t\tkey={name}\n\t\t\t\t\tstyle={defaultStyle} \n\t\t\t\t\tdata={featureData.features}  \n\t\t\t\t\tonEachFeature={onEachFeature}\n\t\t\t\t>\n\t\t\t\t\t<Tooltip sticky direction=\"top\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h5>{name}</h5>\n\t\t\t\t\t\t\t<h6>{value}</h6>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tooltip>\n\n\t\t\t\t</GeoJSON>\n\t\t\t\t\n\t\t\t</MapContainer>\n\t\t\t</>\n\t\t}\n\t\t</>\n\t);\n}\n\nexport default MapComponent","import {useState,useEffect} from \"react\";\r\nimport MapComponent from \"./MapComponent\";\r\nimport axios from 'axios';\r\n\r\nexport default function GenderSkew() {\r\n\t\r\n\tconst [loading,setloading] = useState(true);\t\r\n\tconst [stats,setStats] = useState({});\r\n\r\n\tconst [featureData,setFeatureData] = useState();\r\n\t\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Gender Skew\";\r\n\t\t\r\n\t\tconst findMFRatio = (areaData, usersData) => {\r\n\t\t\tlet i,maxV=Number.MIN_SAFE_INTEGER,minV=Number.MAX_SAFE_INTEGER,maxA,minA;\r\n\t\t\tareaData?.features?.forEach((area) => {\r\n\t\t\t\t//break logic: assuming data will always be sorted by area_id\r\n\t\t\t\tlet areaFound=false;\r\n\t\t\t\t\r\n\t\t\t\tlet male=0,female=0;\r\n\t\t\t\tfor (i = 0; i < usersData.length; i++) {\r\n\t\t\t\t  if(usersData[i].gender === \"M\" && usersData[i].area_id === area?.properties.area_id){\r\n\t\t\t\t\tmale++;\r\n\t\t\t\t\tareaFound=true;\r\n\t\t\t\t  }\r\n\t\t\t\t  else if(usersData[i].gender === \"F\" && usersData[i].area_id === area?.properties.area_id){\r\n\t\t\t\t\t  female++;\r\n\t\t\t\t\t  areaFound=true;\r\n\t\t\t\t  }\r\n\t\t\t\t  if(areaFound && usersData[i].area_id !== area?.properties.area_id)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet ratio= female ? male/female: male;\r\n\t\t\t\t\t\r\n\t\t\t\tif(ratio>maxV){\r\n\t\t\t\t\tmaxV=ratio;\r\n\t\t\t\t\tmaxA=area[\"properties\"][\"name\"];\r\n\t\t\t\t}\r\n\t\t\t\tif(ratio<minV){\r\n\t\t\t\t\tminV=ratio;\r\n\t\t\t\t\tminA=area[\"properties\"][\"name\"];\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tratio=ratio.toFixed(2);\r\n\t\t\t\tarea[\"properties\"][\"mfRatio\"]=ratio;\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tconst obj= {};\r\n\t\t\tobj[\"minVal\"]=minV;\r\n\t\t\tobj[\"maxVal\"]=maxV;\r\n\t\t\tobj[\"minArea\"]=minA;\r\n\t\t\tobj[\"maxArea\"]=maxA;\r\n\t\t\t\r\n\t\t\tsetStats({...stats, ...obj });\r\n\t\t\tsetFeatureData(areaData);\r\n\t\t\tsetloading(false);\r\n\t\t}\r\n\t\t\r\n\t\tasync function fetchData() {\r\n\t\t\tlet values = await Promise.all([\r\n\t\t\t\taxios.get('https://kyupid-api.vercel.app/api/areas'), \r\n\t\t\t\taxios.get('https://kyupid-api.vercel.app/api/users')\r\n\t\t\t]);\r\n\t\t\t\r\n\t\t\tfindMFRatio(values[0]?.data, values[1]?.data?.users)\r\n\t\t}\r\n\t\t\r\n\t\tfetchData();\r\n\t\t\r\n\t},[]);\r\n\t\r\n\tconst description=\"This map shows ratio of Male users to Female users count\";\r\n\t\t\r\n  return (\r\n\t\t<MapComponent {...{featureData,loading,stats,param:\"mfRatio\",description}}/>\r\n  );\r\n}"],"sourceRoot":""}